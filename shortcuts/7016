{"id":"7016","name":"Randomize List [JS1]","tagline":"A JavaScript one-liner to shuffle the items of a list","icon":"ios12 c255 g59445","latest":"21791","description":"\n\t\t\t\t\t<p>A single line of JavaScript that takes a list and randomly \"reorders\" its items. The list can come from a “Create list” action, or from text (one list item per line). List operations are surprisingly limited in Shortcuts. This snippet and others like it <a href=\"https://routinehub.co/shortcut/6787/\">[1]</a><a href=\"https://routinehub.co/shortcut/6788/\">[2]</a><a href=\"https://routinehub.co/shortcut/6790/\">[3]</a> try to fill this gap.</p>\n<p>Like my <a href=\"https://routinehub.co/shortcut/6788\"><em>Sort List Numerically</em> shortcut</a> this is another example of a custom sort function:</p>\n<pre><code>(a,b)=&gt;Math.random()-0.5\n</code></pre>\n\n<p>As the documentation says, <code>Math.random()</code> should not be used for anything related to cryptography, but for a simple list shuffle, it's more than adequate.</p>\n<p>Also, after making this shortcut, I found out that the native <em>Filter Files</em> action has a \"Random\" sorting that makes this shortcut unnecessary. It remains here as an additional example of the custom sorting possibilities with JavaScript embedded in a Shortcut.</p>\n<h4>Don't download the shortcut</h4>\n<p>If you just want the code, there's no need to download the shortcut. Copy this and paste it in a \"URL\" action:</p>\n<pre><code>data:text/html;charset=utf-8,&lt;script&gt;let list=`REPLACETHISWITHLISTVARIABLE`;document.write(list.split(\"\\n\").sort((a,b)=&gt;Math.random()-0.5).join('&lt;br&gt;'))&lt;/script&gt;\n</code></pre>\n\n<p>Replace the <code>REPLACETHISWITHLISTVARIABLE</code> fragment with the variable contaning the list, add a \"Get File of Type\" with type <code>com.apple.webarchive</code> below, and split its output with new lines to get the sorted list.</p>\n<p>I use \"Get File of Type\" instead of \"Get Contents of Webpage\" to avoid that the user is misleading told that the shortcut uses Safari.</p>\n<ul>\n<li>No error checking</li>\n<li><a href=\"https://editor.scpl.dev/?scpl=%40Icon%20list%0A%40Color%20darkgray%0AComment%20%22A%20JavaScript%20one-liner%20to%20shuffle%20the%20items%20of%20a%20list%20%E2%80%94%20%40atnbueno%20%282020-10-12%29%5Cn%5Cn-%20The%20list%20can%20come%20from%20a%20%E2%80%9CCreate%20list%E2%80%9D%20action%2C%20or%20from%20text%20%28one%20list%20item%20per%20line%29%5Cn-%20The%20JavaScript%20output%20must%20be%20split%20into%20lines%20to%20get%20the%20list%20format%20back%22%0AList%20%5B%222%20%E2%99%A0%EF%B8%8F%22%2C%20%223%20%E2%99%A5%EF%B8%8F%22%2C%20%224%20%E2%99%A6%EF%B8%8F%22%2C%20%225%20%E2%99%A3%EF%B8%8F%22%2C%20%226%20%E2%99%A0%EF%B8%8F%22%5D%20-%3E%20mv%3AList%0AURL%20%22data%3Atext%2Fhtml%3Bcharset%3Dutf-8%2C%3Cscript%3Elet%20list%3D%60%5C%28mv%3AList%29%60%3Bdocument.write%28list.split%28%5C%22%5C%5Cn%5C%22%29.sort%28%28a%2Cb%29%3D%3EMath.random%28%29-0.5%29.join%28%27%3Cbr%3E%27%29%29%3C%2Fscript%3E%22%0AGetFileofType%20%22com.apple.webarchive%22%20-%3E%20mv%3A%22Get%20File%20of%20Type%22%0AShowResult%20%22Input%3A%5Cn%5C%28mv%3AList%29%5Cn%5CnOutput%3A%5Cn%5C%28mv%3A%22Get%20File%20of%20Type%22%7Bas%3A%20text%7D%29%22\">ScPL source</a></li>\n<li><a href=\"https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array/sort\"><code>Array.prototype.sort()</code></a> and <a href=\"https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Math/random\"><code>Math.random()</code></a> documentation at MDN</li>\n</ul>\n\t\t\t\t","releasenotes":"<p><strong>1.0.0 - Oct. 12, 2020, 4:19 p.m.</strong></p>"}