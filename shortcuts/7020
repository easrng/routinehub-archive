{"id":"7020","name":"Prettify JSON [JS1]","tagline":"A JavaScript one-liner to prettify a JSON string","icon":"ios12 c255 g59853","latest":"24256","description":"\n\t\t\t\t\t<p>A single line of JavaScript to properly indent a JSON string. A task that would be pretty uncomfortable to implement via text replacements in a shortcut can be done with an optional parameter of the <code>JSON.stringify</code> function. This formatting consist only in white space, so it does not affect the processing of the string as a dictionary.</p>\n<p>Since version 1.1.0 the keys will be alphabetically ordered.</p>\n<ul>\n<li>No error checking</li>\n<li><a href=\"https://editor.scpl.dev/?scpl=%40Icon%20font%0A%40Color%20darkgray%0AComment%20%22A%20JavaScript%20one-liner%20to%20prettify%20a%20JSON%20string%20%E2%80%94%20%40atnbueno%20%282020-10-12%29%5Cn%5Cn-%20The%20JSON%20can%20come%20from%20a%20%E2%80%9CDictionary%E2%80%9D%20action%2C%20or%20directly%20from%20text%5Cn-%20v1.1%20%282020-12-04%29%3A%20keys%20are%20now%20alphabetically%20sorted%5Cn-%20No%20error%20checking%22%0ADictionary%20%7Btxt%3A%20%22abcde...xyz%22%2C%20int%3A%20%22123454321%22%2C%20list%3A%20%5B123%2C%20456%2C%20789%5D%2C%20dict%3A%20%7Btxt%3A%20%22abc...xyz%22%2C%20int%3A%20%221234321%22%7D%2C%20%3Cboolean%3E%20bool%3A%20true%7D%20-%3E%20mv%3ADictionary%0AURL%20%22data%3Atext%2Fhtml%3Bcharset%3Dutf-8%2C%3Cpre%3E%3Cscript%3Ewith%28JSON%29%7Blet%20dict%3D%5C%28mv%3ADictionary%29%2Ckeys%3D%5B%5D%3Bstringify%28dict%2C%28key%2Cvalue%29%3D%3E%7Bkeys.push%28key%29%3Breturn%20value%7D%29%3Bdocument.write%28stringify%28dict%2Ckeys.sort%28%29%2C4%29%29%7D%3C%2Fscript%3E%3C%2Fpre%3E%22%0AGetFileofType%20%22com.apple.webarchive%22%20-%3E%20mv%3A%22Get%20File%20of%20Type%22%0AText%20%22Input%3A%5Cn%5C%28mv%3ADictionary%29%5Cn%5CnOutput%3A%5Cn%5C%28mv%3A%22Get%20File%20of%20Type%22%7Bas%3A%20text%7D%29%22%0AQuickLook\">ScPL source</a></li>\n<li><a href=\"https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/JSON/stringify\"><code>JSON.stringify()</code> documentation at MDN</a></li>\n</ul>\n<h4>Don't download the shortcut</h4>\n<p>If you just want the code, there's no need to download the shortcut. Copy this and paste it in a \"URL\" action:</p>\n<pre><code>data:text/html;charset=utf-8,&lt;pre&gt;&lt;script&gt;with(JSON){let dict=REPLACETHISWITHDICTIONARYVARIABLE,keys=[];stringify(dict,(key,value)=&gt;{keys.push(key);return value});document.write(stringify(dict,keys.sort(),4))}&lt;/script&gt;&lt;/pre&gt;\n</code></pre>\n\n<p>Replace the <code>REPLACETHISWITHDICTIONARYVARIABLE</code> fragment with the variable contaning the JSON dictionary, add a \"Get File of Type\" with type <code>com.apple.webarchive</code> below, and its output will be the prettified JSON. Show it with a \"Quick Look\" action to see it (a \"Show Results\" is not adequate because of the text centering).</p>\n<p>I use \"Get File of Type\" instead of \"Get Contents of Webpage\" to avoid that the user is misleading told that the shortcut uses Safari.</p>\n\t\t\t\t","releasenotes":"<p><strong>1.1.0 - Jan. 3, 2021, 10:15 a.m.</strong></p><p>The keys are now alphabetically sorted</p>"}