{"id":"8001","name":"Sleep Widget","tagline":"Analyze last night's sleep in a widget","icon":"ios14 c946986751 g59666","latest":"26326","description":"\n\t\t\t\t\t<p>I have been using this shortcut as a supplemental tool to track and analyze my sleep. It works well enough and is kind of fun so I decided to share it.</p>\n<p>The <a href=\"https://chartyios.app\">Charty app</a> is not required but functionality is very limited without it. </p>\n<ol>\n<li>Install Charty</li>\n<li>Run the shortcut</li>\n<li>Create a Charty widget with the new chart</li>\n<li>Configure the new widget to launch the \"Sleep Widget\" shortcut</li>\n</ol>\n<p>Let me know if you run into problems.</p>\n<p>Additional sleep charts are available with the <a href=\"https://routinehub.co/shortcut/8723/\">Sleep Charts shortcut</a>.</p>\n<p>And check out my <a href=\"https://routinehub.co/shortcut/8104/\">Heart Widget</a> and <a href=\"https://routinehub.co/shortcut/6661/\">Daily Dashboard</a> shortcuts for Charty.</p>\n<p><img alt=\"\" src=\"https://edwardsdavid.com/dev/Shortcuts/SleepWidget/sleep_widget_promo_25.png\"></p>\n<p><img alt=\"\" src=\"https://edwardsdavid.com/dev/Shortcuts/SleepWidget/sleep_widget_promo_26.png\"></p>\n<p><a href=\"https://youtu.be/hCEJg-NmXnw\">Watch a demo.</a></p>\n<p>Notes:</p>\n<ul>\n<li>Requires Apple Health-compatible sleep tracker</li>\n<li>Works with multiple sleep sources</li>\n<li>Tested with Apple Watch, Oura ring and AutoSleep app</li>\n<li>The legend is not supported. Do not enable it.</li>\n<li>Set your widget to use a dark background for the best experience.</li>\n<li>Icons by MenuBox</li>\n</ul>\n<hr>\n<h2>Automation</h2>\n<p>You can automate this shortcut with two actions: a <strong>Dictionary action</strong> and a <strong>Run Shortcut action</strong>. </p>\n<ol>\n<li>The Dictionary action should have a \"ReportDate\" value with the date you want to analyze. </li>\n<li>Use the dictionary as input for a Run Shortcut action that runs \"Sleep Widget.\"</li>\n</ol>\n<p>See the example below.</p>\n<p><img alt=\"\" src=\"https://edwardsdavid.com/dev/Shortcuts/SleepWidget/sleep_widget_promo_8.png\"></p>\n<p>Running this shortcut will update the chart in the background.</p>\n<h3>Optional Input</h3>\n<p>In addition to <strong>ReportDate</strong>, the following input values are supported. </p>\n<p>Enter a value of <strong>1</strong> to enable or <strong>0</strong> to disable.</p>\n<ul>\n<li><em>Notifications</em> -- Enable or disable notifications</li>\n<li><em>ShowReport</em> -- Bypass or view the report screen</li>\n<li><em>Charty</em> -- Enable or disable Charty updates</li>\n<li><em>Springboard</em> -- Enable or disable returning to Springboard</li>\n<li><em>Background</em> -- Enable or disable blue chart background</li>\n</ul>\n<p><img alt=\"\" src=\"https://edwardsdavid.com/dev/Shortcuts/SleepWidget/sleep_widget_promo_10.png\"></p>\n<h3>Output</h3>\n<p>The Sleep Widget shortcut will also return a dictionary with the following values.</p>\n<ul>\n<li><em>Image</em> -- Base64 encoded chart image.</li>\n<li><em>Markdown</em> -- Base64 encoded sleep report in markdown format</li>\n<li><em>HTML</em> -- Base64 encoded report in HTML format (with chart)</li>\n<li><em>SleepBegin</em> -- Time which sleep began</li>\n<li><em>SleepEnd</em> -- Time which sleep ended</li>\n<li><em>SleepMinutes</em> -- Total sleep in minutes</li>\n<li><em>AwakeMinutes</em> -- Time awake during the primary sleep session</li>\n<li><em>RestlessMinutes</em> -- Duration of restless sleep during the primary sleep session.</li>\n<li><em>LightMinutes</em> -- Duration of light sleep during the primary sleep session.</li>\n<li><em>RestfulMinutes</em> -- Duration of restful sleep during the primary sleep session.</li>\n<li><em>NapMinutes</em> -- Total nap time in minutes</li>\n<li><em>HeartAvg</em> -- Average heart rate for the primary sleep session</li>\n<li><em>HeartMin</em> -- Minimum heart rate for the primary sleep session</li>\n<li><em>HeartMax</em> -- Maximum heart rate for the primary sleep session</li>\n<li><em>NoiseAvg</em> -- Average decibels for the primary sleep session</li>\n<li><em>NoiseMin</em> -- Minimum decibels for the primary sleep session</li>\n<li><em>NoiseMax</em> -- Maximum decibels for the primary sleep session</li>\n<li><em>SleepCount</em> -- Number of sleep segments total</li>\n<li><em>AwakeCount</em> -- Number of awake segments in the primary sleep session </li>\n<li><em>NapCount</em> -- Number of naps</li>\n</ul>\n<h3>Use Cases</h3>\n<p>You can use the data returned from Sleep Widget to build your own shortcuts.</p>\n<p>For example, I have a shortcut that runs Sleep Widget and then saves the results to my DayOne journal every morning.</p>\n<p>I have another shortcut which calls SleepWidget and then uses the results to create a WidgetPack widget like the one below.</p>\n<p><img alt=\"\" src=\"https://edwardsdavid.com/dev/Shortcuts/SleepWidget/sleep_widget_promo_16.png\"></p>\n\t\t\t\t","releasenotes":"<p><strong>0.6.4 - March 24, 2021, 2:49 p.m.</strong></p><p>*Fixed*<br>- Minor fixes for infrequent  error conditions</p>"}