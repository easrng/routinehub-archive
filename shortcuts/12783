{"id":"12783","name":"Add Reddit Mod Toolbox Removal Reason","tagline":"Adds a Toolbox removal reason to a Reddit post","icon":"ios15 c4251333119 g61528","latest":"34498","description":"\n\t\t\t\t\t<p>Adds a <a href=\"https://www.reddit.com/r/toolbox/\">Toolbox</a> removal reason to a Reddit post. Currently only tested on r/ProgrammerHumor, so please test this out in a test subreddit to see if this shortcut is compatible with your toolbox settings before using it.</p>\n<p><strong>Warning: This shortcut stores your Reddit access and refresh token in plain text.</strong></p>\n<h2>Features</h2>\n<ul>\n<li><code>{kind}</code> token</li>\n<li><code>&lt;input&gt;</code>, <code>&lt;textarea&gt;</code>, <code>&lt;select&gt;</code> (if there’s a <code>required</code> attribute it must be before the <code>id</code> attribute)</li>\n<li>Sets flair on post</li>\n<li>Comments removal reason and stickies the comment<ul>\n<li>Locks the comment if necessary (according to Toolox settings)</li>\n</ul>\n</li>\n</ul>\n<h2>Setup</h2>\n<p>You’ll probably need a computer for this.</p>\n<ul>\n<li>Go to <a href=\"https://www.reddit.com/prefs/apps\">https://www.reddit.com/prefs/apps</a></li>\n<li>‘create another app…’ (you may need to scroll down a lot)<ul>\n<li>Select ‘script’</li>\n<li>Put <code>http://localhost:8080</code> as the redirect URL</li>\n<li>Name it whatever you want and create the app</li>\n<li>The thing under the app name and ‘personal use script’ is the client id. Copy this and the client secret (next to ‘secret’) as you’ll need them later.</li>\n</ul>\n</li>\n<li>\n<p>Put the client id and client secret as the values for <code>client_id</code> and <code>client_secret</code> respectively in the configuration dictionary at the top of the shortcut.</p>\n</li>\n<li>\n<p>Run <code>python3 -m http.server 8080</code></p>\n</li>\n<li>Go to <code>https://www.reddit.com/api/v1/authorize?response_type=code&amp;duration=permanent&amp;redirect_uri=http://localhost:8080&amp;scope=flair+modposts+wikiread&amp;state=abc&amp;client_id=$CLIENT_ID</code> where <code>$CLIENT_ID</code> is your client id<ul>\n<li>Click ‘Allow’</li>\n</ul>\n</li>\n<li>Go back to the terminal where you ran the HTTP server. You should see a line like this</li>\n</ul>\n<pre><code>::1 - - [04/Jul/2022 16:13:16] \"GET /?state=abc&amp;code=xxxxxxxxxxxxxxxxxxxxxxxxxxxxxx HTTP/1.1\" 200 -\n</code></pre>\n\n<p>The <code>xxxxxxxxxxxxxxxxxxxxxxxxxxxxxx</code> is the authorisation code. Copy this.</p>\n<ul>\n<li>Run <code>curl https://www.reddit.com/api/v1/access_token -u $CLIENT_ID:$CLIENT_SECRET -F grant_type=authorization_code -F redirect_uri=http://localhost:8080 -F code=$AUTHORIZATION_CODE</code></li>\n</ul>\n<p>You should get something like</p>\n<pre><code>{\"access_token\": \"xxxxxxxxxxx-xxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\", \"token_type\": \"bearer\", \"expires_in\": 86400, \"refresh_token\": \"xxxxxxxxxxx-xxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\", \"scope\": \"wikiread modposts flair\"}\n</code></pre>\n\n<ul>\n<li>Run this shortcut and put in the values for <code>access_token</code> and <code>refresh_token</code> when prompted.</li>\n</ul>\n\t\t\t\t","releasenotes":"<p><strong>1.0.0 - Aug. 9, 2022, 4:41 a.m.</strong></p>"}