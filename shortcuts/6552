{"id":"6552","name":"Text to PNG","tagline":"Convert text to an image with many custom parameters","icon":"ios15 c3679049983 g59853","latest":"33637","description":"\n\t\t\t\t\t<p>Like <a href=\"https://routinehub.co/shortcut/6311\">Unicolor PNG</a> this was another shortcut I had for some time. Occasionally I needed an image of a text of a particular typeface, size, colors, and centered in a rectangle.</p>\n<p>The amazing <a href=\"https://developer.mozilla.org/docs/Web/API/Canvas_API\">Canvas API</a> from JavaScript made this quite easy: some typography notions and a bit of math, and I had a decent 1.0 version in shortcut form.</p>\n<p>Then iOS 15.2 came with a new action, \"Overlay text\", which did even more things than my shortcut. But both had still a serious limitation: both the shortcut and the new native action were for a single line of text.</p>\n<p>So I went down the rabbit hole of <a href=\"https://developer.mozilla.org/docs/Web/CSS/CSS_Text/Wrapping_Text\">text wrapping</a>, <a href=\"https://routinehub.co/shortcut/12217/\">hyphenation</a>, and <a href=\"https://developer.mozilla.org/docs/Web/API/TextMetrics\">typography</a> in JavaScript, and ended up with the new 2.0 version of the shortcut. </p>\n<p>As with version 1.x, the shortcut works as a demo when it has no input (showing the result to the user), and as a function when it receives a dictionary (or JSON string) with parameters (returning silently the output image).</p>\n<p><img alt=\"Example of use of all the parameters\" src=\"https://www.atnbueno.com/text-to-png-2-example1.png\"></p>\n<p>Version 2.0 of the shortcut goes up to <strong>twelve parameters</strong>:</p>\n<ul>\n<li><strong>text</strong> is the text you want to convert to an image (in the demo dictionary inside the shortcut, the ✂ emojis mark possible hyphenation points)</li>\n<li><strong>font</strong> is the style, size and <a href=\"https://developer.apple.com/fonts/system-fonts/\">typeface to use</a>, using <a href=\"https://developer.mozilla.org/en-US/docs/Web/CSS/font\">CSS syntax</a> (e.g. <em>bold 56px Gill Sans</em>)</li>\n<li><strong>width</strong> and <strong>height</strong> are the desired dimensions of the image in pixels. If <em>width</em> is omitted, the text won't be wrapped and the image will be as wide as needed to contain the text as a single line. If <em>height</em> is not large enough for the indicated text and font, the image will grow taller.</li>\n<li><strong>color</strong> is the color of the text, and can have any <a href=\"https://developer.mozilla.org/docs/Web/CSS/color\">valid CSS color value</a> (e.g. <em>red</em>, <em>#FF00FF</em>, <em>rgba(255, 127, 0, 0.5)</em>, <em>hsl(90deg, 100%, 50%)</em>, <em>hwb(194 0% 0% / .5)</em>, <em>transparent</em>)</li>\n<li><strong>bgcolor</strong> is the background color of the text</li>\n<li><strong>alignment</strong> aligns the text vertically (<em>top</em>, <em>center</em>, <em>bottom</em>) and/or horizontally (<em>left</em>, <em>center</em>, <em>right</em>). Examples: <em>top left</em>, <em>center</em>, <em>bottom right</em></li>\n<li><strong>padding</strong> is additional space around the text, using <a href=\"https://developer.mozilla.org/docs/Web/CSS/padding\">CSS syntax</a>, but only in pixels</li>\n<li><strong>spacing</strong> multiplies the space between lines of wrapped text</li>\n<li><strong>outline</strong> allows drawing a line around each letter with a custom width and color. Example: <em>2px #DC0</em></li>\n<li><strong>shadow</strong> adds a shadow effect to the text, using also <a href=\"https://developer.mozilla.org/docs/Web/CSS/text-shadow\">CSS syntax</a>. Example: <em>2px 2px 4px black</em></li>\n<li><strong>hyphen</strong> is the custom character in the text to be considered an hyphenation point (where a word can be broken to wrap the text). By default it's the \"¬\" character, and the shortcut also supports Unicode soft hyphens (normally invisible).</li>\n</ul>\n<p>With these and a couple <em>hundred</em> lines of JavaScript the desired PNG is generated.</p>\n<p><img alt=\"Example of use of only some parameters\" src=\"https://www.atnbueno.com/text-to-png-2-example2.png\"></p>\n<p>The shortcut has only 14 actions, because all the work is done with JavaScript, which I've tried to make clear and readable.</p>\n<h5>TO DO</h5>\n<ul>\n<li>Fix application of left/right margins when they're different</li>\n<li>Add support for multiple shadows</li>\n</ul>\n\t\t\t\t","releasenotes":"<p><strong>2.0.0 - June 13, 2022, 9:16 p.m.</strong></p><p>Adds text wrapping with support for hyphenation, line spacing, line breaks, horizontal and vertical alignment, padding, shadow and outline. It should work with iOS 13/14 but I haven't been able to test it.</p>"}